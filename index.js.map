{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchFotosByQuery = searchQuery => {\n    const searchParams = new URLSearchParams({\n      key: '43952062-1ac9439355a7535a7f5f048fb',\n      q: searchQuery,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true, //фільтр за віком\n    });\n\n    return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n        if (!response.ok) {\n            throw new Error(response.statusText);\n        }\n        return response.json();\n  });\n};\n","export const createGalleryMarkup = photos => {\n    return photos\n      .map(\n        photo => `<li class=\"gallery-card\">\n    <a class=\"gallery-link\" href=\"${photo.largeImageURL}\">\n      <img\n        class=\"gallery-photo\"\n        src=\"${photo.webformatURL}\"\n        data-source=\"${photo.largeImageURL}\"\n        alt=\"${photo.tags}\"\n      />\n    </a>\n    <div class=\"under-img-info\">\n      <ul class=\"list-info\">\n        <li class=\"item-info\">\n          <h3 class=\"title-info\">Likes</h3>\n          <p class=\"text-info\">${photo.likes}</p>\n        </li>\n        <li class=\"item-info\">\n          <h3 class=\"title-info\">Views</h3>\n          <p class=\"text-info\">${photo.views}</p>\n        </li>\n        <li class=\"item-info\">\n          <h3 class=\"title-info\">Comments</h3>\n          <p class=\"text-info\">${photo.comments}</p>\n        </li>\n        <li class=\"item-info\">\n          <h3 class=\"title-info\">Downloads</h3>\n          <p class=\"text-info\">${photo.downloads}</p>\n        </li>\n      </ul>\n    </div>\n  </li>`\n      )\n      .join('');\n  };","import { fetchFotosByQuery } from './js/pixabay-api.js';\nimport { createGalleryMarkup } from './js/render-functions.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryEl = document.querySelector('.gallery-list');\nconst searchFormEl = document.querySelector('.form');\nconst loaderEl = document.querySelector('.loader');\nlet lightbox = new SimpleLightbox('.gallery-list a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nfunction onSearchFormSubmit(event) {\n  event.preventDefault();\n\n  const searchQuery = event.target.elements.query.value.trim();\n\n  if (searchQuery === '') {\n    galleryEl.innerHTML = '';\n    event.target.reset();\n    return;\n  }\n\n  galleryEl.innerHTML = '';\n  loaderEl.classList.remove('is-hidden');\n\n  fetchFotosByQuery(searchQuery)\n    .then(photosData => {\n      if (photosData.total === 0) {\n        event.target.reset();\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          timeout: 4000,\n          pauseOnHover: true,\n          color: 'red',\n        });\n      }\n      galleryEl.innerHTML = createGalleryMarkup(photosData.hits);\n      lightbox.refresh();\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      event.target.reset();\n      loaderEl.classList.add('is-hidden');\n    });\n}\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);"],"names":["BASE_URL","fetchFotosByQuery","searchQuery","searchParams","response","createGalleryMarkup","photos","photo","galleryEl","searchFormEl","loaderEl","lightbox","SimpleLightbox","onSearchFormSubmit","event","photosData","iziToast","error"],"mappings":"6vBAAA,MAAMA,EAAW,2BAEJC,EAAoBC,GAAe,CAC5C,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAClB,CAAK,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAY,EAAE,EAAE,KAAKC,GAAY,CACzD,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAOA,EAAS,MACxB,CAAG,CACH,ECjBaC,EAAsBC,GACxBA,EACJ,IACCC,GAAS;AAAA,oCACmBA,EAAM,aAAa;AAAA;AAAA;AAAA,eAGxCA,EAAM,YAAY;AAAA,uBACVA,EAAM,aAAa;AAAA,eAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAOQA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,iCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,QAKzC,EACA,KAAK,EAAE,ECzBRC,EAAY,SAAS,cAAc,eAAe,EAClDC,EAAe,SAAS,cAAc,OAAO,EAC7CC,EAAW,SAAS,cAAc,SAAS,EACjD,IAAIC,EAAW,IAAIC,EAAe,kBAAmB,CACnD,aAAc,MACd,aAAc,GAChB,CAAC,EAED,SAASC,EAAmBC,EAAO,CACjCA,EAAM,eAAc,EAEpB,MAAMZ,EAAcY,EAAM,OAAO,SAAS,MAAM,MAAM,OAEtD,GAAIZ,IAAgB,GAAI,CACtBM,EAAU,UAAY,GACtBM,EAAM,OAAO,QACb,MACD,CAEDN,EAAU,UAAY,GACtBE,EAAS,UAAU,OAAO,WAAW,EAErCT,EAAkBC,CAAW,EAC1B,KAAKa,GAAc,CACdA,EAAW,QAAU,IACvBD,EAAM,OAAO,QACbE,EAAS,KAAK,CACZ,QACE,2EACF,SAAU,WACV,QAAS,IACT,aAAc,GACd,MAAO,KACjB,CAAS,GAEHR,EAAU,UAAYH,EAAoBU,EAAW,IAAI,EACzDJ,EAAS,QAAO,CACtB,CAAK,EACA,MAAMM,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbH,EAAM,OAAO,QACbJ,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,CACL,CAEAD,EAAa,iBAAiB,SAAUI,CAAkB"}